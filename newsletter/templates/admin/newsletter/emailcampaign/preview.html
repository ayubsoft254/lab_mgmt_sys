{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}{{ title }} | {{ site_title|default:"Django site admin" }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">Home</a>
    &rsaquo; <a href="{% url 'admin:newsletter_emailcampaign_changelist' %}">Email campaigns</a>
    &rsaquo; <a href="{% url 'admin:newsletter_emailcampaign_change' campaign.id %}">{{ campaign.name }}</a>
    &rsaquo; Preview
</div>
{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

<div class="form-row">
    <div class="help">
        <p><strong>Preview Context:</strong></p>
        <ul>
            {% for key, value in context.items %}
                <li><strong>{{ key }}:</strong> {{ value }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

<fieldset class="module">
    <h2>Email Subject</h2>
    <div style="padding: 10px; background: #f8f8f8; border: 1px solid #ddd;">
        {{ subject }}
    </div>
</fieldset>

<fieldset class="module">
    <h2>HTML Content</h2>
    <div style="padding: 10px; background: white; border: 1px solid #ddd;">
        {{ html_content|safe }}
    </div>
</fieldset>

<fieldset class="module">
    <h2>Plain Text Content</h2>
    <div style="padding: 10px; background: #f8f8f8; border: 1px solid #ddd; white-space: pre-wrap;">{{ text_content }}</div>
</fieldset>

<div class="submit-row">
    <a href="{% url 'admin:newsletter_emailcampaign_change' campaign.id %}" class="button">Back to Campaign</a>
</div>
{% endblock %}