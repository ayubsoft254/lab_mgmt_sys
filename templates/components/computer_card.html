{% load static %}

<!-- Modern Computer Card Component -->
<div class="computer-card group" data-status="{{ computer.status }}" data-computer-id="{{ computer.id }}">
    <!-- Card Container -->
    <div class="bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200 hover:border-ttu-green">
        
        <!-- Status Badge Background -->
        <div class="relative h-2 bg-gradient-to-r 
            {% if computer.status == 'available' %}from-green-400 to-green-500{% elif computer.status == 'maintenance' %}from-red-400 to-red-500{% else %}from-amber-400 to-amber-500{% endif %}">
        </div>

        <!-- Card Content -->
        <div class="p-5">
            <!-- Header Section -->
            <div class="flex items-start justify-between mb-4">
                <div class="flex-1">
                    <h3 class="text-lg font-bold text-gray-800">
                        <i class="fas fa-desktop text-ttu-green mr-2"></i>
                        Computer #{{ computer.computer_number }}
                    </h3>
                </div>
                <!-- Status Badge -->
                <div class="flex-shrink-0">
                    {% if computer.status == 'available' %}
                        <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800">
                            <span class="w-2 h-2 bg-green-600 rounded-full animate-pulse"></span>
                            Available
                        </span>
                    {% elif computer.status == 'maintenance' %}
                        <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800">
                            <span class="w-2 h-2 bg-red-600"></span>
                            Maintenance
                        </span>
                    {% else %}
                        <span class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800">
                            <span class="w-2 h-2 bg-amber-600"></span>
                            Reserved
                        </span>
                    {% endif %}
                </div>
            </div>

            <!-- Specifications Section -->
            {% if computer.specs %}
                <div class="mb-4 pb-4 border-b border-gray-200">
                    <p class="text-sm text-gray-600 leading-relaxed">
                        <i class="fas fa-microchip text-gray-400 mr-2"></i>
                        {{ computer.specs|truncatewords:20 }}
                    </p>
                </div>
            {% endif %}

            <!-- Footer Section with Action Button -->
            <div class="flex gap-2">
                {% if computer.status == 'available' and user.is_student %}
                    <a href="{% url 'computer_booking' lab.id computer.id %}" 
                       class="flex-1 px-4 py-2.5 bg-gradient-to-r from-ttu-green to-ttu-dark-green text-white font-semibold rounded-lg hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center gap-2 text-sm">
                        <i class="fas fa-plus"></i>
                        <span class="hidden sm:inline">Book Now</span>
                        <span class="sm:hidden">Book</span>
                    </a>
                {% elif computer.status == 'available' and not user.is_student %}
                    <div class="flex-1 px-4 py-2.5 bg-gray-100 text-gray-600 font-semibold rounded-lg flex items-center justify-center gap-2 text-sm">
                        <i class="fas fa-info-circle"></i>
                        <span class="hidden sm:inline">Students Only</span>
                        <span class="sm:hidden">View</span>
                    </div>
                {% elif computer.status == 'maintenance' %}
                    <div class="flex-1 px-4 py-2.5 bg-red-100 text-red-700 font-semibold rounded-lg flex items-center justify-center gap-2 text-sm">
                        <i class="fas fa-tools"></i>
                        <span class="hidden sm:inline">Under Maintenance</span>
                        <span class="sm:hidden">Unavailable</span>
                    </div>
                {% else %}
                    <div class="flex-1 px-4 py-2.5 bg-amber-100 text-amber-700 font-semibold rounded-lg flex items-center justify-center gap-2 text-sm">
                        <i class="fas fa-lock"></i>
                        <span class="hidden sm:inline">Reserved</span>
                        <span class="sm:hidden">Booked</span>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
